<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JitoX V2 Alpha Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            background-color: #000;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
        }
        
        .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('MAIN SCREEN.jpg');
            background-size: cover;
            background-position: center;
            filter: brightness(0.6);
            z-index: 0;
        }
        
        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            background-color: rgba(138, 43, 226, 0.7);
            border-radius: 50%;
            animation: rain-fall linear infinite;
            opacity: 0;
        }
        
        .rain-particle {
            width: 3px;
            height: 15px;
            background: linear-gradient(to bottom, rgba(138, 43, 226, 0.7), rgba(0, 255, 255, 0.7));
            animation: rain-fall linear infinite;
            animation-duration: 2s;
            animation-delay: 0s;
        }
        
        @keyframes rain-fall {
            0% {
                transform: translateY(-100px) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) translateX(50px) rotate(15deg);
                opacity: 0;
            }
        }
        
        .content-wrapper {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 90%;
            box-sizing: border-box;
        }
        
        /* Access Wallet Button Styles */
        .access-button {
            --purple: #8B5CF6;
            font-size: 15px;
            padding: 0.7em 2.7em;
            letter-spacing: 0.06em;
            position: relative;
            font-family: inherit;
            border-radius: 0.6em;
            overflow: hidden;
            transition: all 0.3s;
            line-height: 1.4em;
            border: 2px solid var(--purple);
            background: linear-gradient(to right, rgba(139, 92, 246, 0.1) 1%, transparent 40%,transparent 60% , rgba(139, 92, 246, 0.1) 100%);
            color: var(--purple);
            box-shadow: inset 0 0 10px rgba(139, 92, 246, 0.4), 0 0 9px 3px rgba(139, 92, 246, 0.1);
            cursor: pointer;
            margin-top: 20px;
        }
        
        .access-button:hover {
            color: #C4B5FD;
            box-shadow: inset 0 0 10px rgba(139, 92, 246, 0.6), 0 0 9px 3px rgba(139, 92, 246, 0.2);
        }
        
        .access-button:before {
            content: "";
            position: absolute;
            left: -4em;
            width: 4em;
            height: 100%;
            top: 0;
            transition: transform .4s ease-in-out;
            background: linear-gradient(to right, transparent 1%, rgba(139, 92, 246, 0.1) 40%,rgba(139, 92, 246, 0.1) 60% , transparent 100%);
        }
        
        .access-button:hover:before {
            transform: translateX(15em);
        }
        
        .hidden {
            display: none !important;
        }

        /* Tier Card Styles - Matching First Page Design */
        .tier-card {
            position: relative;
            display: flex;
            flex-direction: column;
            width: 20rem;
            max-width: 90%;
            margin: 0 auto 1.5rem;
            padding: 1rem;
            border-radius: 0.75rem;
            background: rgba(2, 6, 23, 0.3);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: all 0.3s;
            cursor: pointer;
        }

        .tier-card:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.2), 0 10px 10px -5px rgba(139, 92, 246, 0.1);
        }

        .tier-card .absolute.inset-0 {
            position: absolute;
            inset: 0;
            border-radius: 0.75rem;
            background: linear-gradient(to right, rgb(99 102 241), rgb(168 85 247), rgb(236 72 153));
            opacity: 0.2;
            filter: blur(0.375rem);
            transition: opacity 0.3s;
        }

        .tier-card:hover .absolute.inset-0 {
            opacity: 0.3;
        }

        .tier-card .absolute.inset-px {
            position: absolute;
            inset: 1px;
            border-radius: 11px;
            background: rgba(2, 6, 23, 0.3);
        }

        .tier-card .relative {
            position: relative;
        }

        .card_title__container {
            margin-bottom: 1rem;
            text-align: center;
        }

        .card_title {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.25rem;
        }

        .card_paragraph {
            color: rgb(148 163 184);
            font-size: 0.75rem;
            margin: 0;
        }

        .line {
            border: none;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.5), transparent);
            margin: 0.75rem 0;
        }

        .card__list {
            list-style: none;
            padding: 0;
            margin: 0 0 1rem 0;
        }

        .card__list_item {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            color: rgb(226 232 240);
            font-size: 0.75rem;
        }

        .check {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 1rem;
            height: 1rem;
            background: linear-gradient(135deg, rgb(99 102 241), rgb(139 92 246));
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .check_svg {
            width: 0.625rem;
            height: 0.625rem;
            color: white;
        }

        .list_text {
            flex: 1;
            font-weight: 400;
            line-height: 1.4;
        }

        .button {
            width: 100%;
            padding: 0.5rem 1rem;
            background: linear-gradient(to right, rgb(99 102 241), rgb(168 85 247));
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: none;
            letter-spacing: 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .button:hover {
            background: linear-gradient(to right, rgb(79 70 229), rgb(147 51 234));
        }

        /* AI Matrix Loader Styles */
        .ai-matrix-loader {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            margin: 0 auto;
            width: fit-content;
        }

        .digit {
            font-family: 'Courier New', monospace;
            font-size: 24px;
            font-weight: bold;
            color: #8B5CF6;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.8);
            animation: matrixGlow 2s ease-in-out infinite alternate;
            min-width: 20px;
            text-align: center;
        }

        .digit:nth-child(1) { animation-delay: 0s; }
        .digit:nth-child(2) { animation-delay: 0.2s; }
        .digit:nth-child(3) { animation-delay: 0.4s; }
        .digit:nth-child(4) { animation-delay: 0.6s; }
        .digit:nth-child(5) { animation-delay: 0.8s; }
        .digit:nth-child(6) { animation-delay: 1s; }
        .digit:nth-child(7) { animation-delay: 1.2s; }
        .digit:nth-child(8) { animation-delay: 1.4s; }

        .glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 60px;
            background: radial-gradient(ellipse, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulseGlow 3s ease-in-out infinite;
        }

        @keyframes matrixGlow {
            0% { 
                color: #8B5CF6; 
                text-shadow: 0 0 10px rgba(139, 92, 246, 0.8);
            }
            100% { 
                color: #3B82F6; 
                text-shadow: 0 0 15px rgba(59, 130, 246, 0.8);
            }
        }

        @keyframes pulseGlow {
            0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
        }

        /* Neon Checkbox Styles */
        .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            user-select: none;
        }

        .checkbox-wrapper input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            position: relative;
            width: 24px;
            height: 24px;
            border: 2px solid #8B5CF6;
            border-radius: 4px;
            background: transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkmark svg {
            width: 16px;
            height: 16px;
            color: transparent;
            transition: color 0.3s ease;
            stroke-width: 3;
        }

        .checkbox-wrapper input[type="checkbox"]:checked + .checkmark {
            background: linear-gradient(135deg, #8B5CF6, #3B82F6);
            border-color: #8B5CF6;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }

        .checkbox-wrapper input[type="checkbox"]:checked + .checkmark svg {
            color: white;
        }

        .checkbox-wrapper .label {
            color: #E2E8F0;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .checkbox-wrapper:hover .checkmark {
            border-color: #A855F7;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }

        .checkbox-wrapper:hover .label {
            color: #8B5CF6;
        }

        /* Scrollbar Styling */
        #walletState::-webkit-scrollbar {
            width: 6px;
        }

        #walletState::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.3);
            border-radius: 3px;
        }

        #walletState::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #8B5CF6, #3B82F6);
            border-radius: 3px;
        }

        #walletState::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #7C3AED, #2563EB);
        }

        /* SVG Loading Spinner Animations */
        .loading-spinner {
            /* Static positioning - no rotation */
        }

        .loading-spinner .particle {
            animation: float 3s ease-in-out infinite;
        }

        .loading-spinner .particle.p1 { animation-delay: 0s; }
        .loading-spinner .particle.p2 { animation-delay: 0.3s; }
        .loading-spinner .particle.p3 { animation-delay: 0.6s; }
        .loading-spinner .particle.p4 { animation-delay: 0.9s; }
        .loading-spinner .particle.p5 { animation-delay: 1.2s; }
        .loading-spinner .particle.p6 { animation-delay: 1.5s; }
        .loading-spinner .particle.p7 { animation-delay: 1.8s; }
        .loading-spinner .particle.p8 { animation-delay: 2.1s; }
        .loading-spinner .particle.p9 { animation-delay: 2.4s; }

        .loading-spinner #line-v1,
        .loading-spinner #line-v2 {
            animation: pulse 2s ease-in-out infinite alternate;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px);
                opacity: 0.8;
            }
            50% { 
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0% { 
                stroke-width: 1;
                opacity: 0.6;
            }
            100% { 
                stroke-width: 2;
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="background-image"></div>
    <div class="particles-container" id="particles"></div>
    
    <div class="content-wrapper">
        <!-- Initial State: User Stats with 0 balance -->
        <div id="initialState">
            <div class="group relative flex w-80 flex-col rounded-xl bg-slate-950/30 p-4 shadow-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-indigo-500/20">
                <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-20 blur-sm transition-opacity duration-300 group-hover:opacity-30"></div>
                <div class="absolute inset-px rounded-[11px] bg-slate-950/30"></div>

                <div class="relative">
                    <div class="mb-4 flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500">
                                <svg class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                            <h3 class="text-sm font-semibold text-white">Alpha Protocol Stats</h3>
                        </div>
                        <span class="flex items-center gap-1 rounded-full bg-red-500/10 px-2 py-1 text-xs font-medium text-red-500">
                            <span class="h-1.5 w-1.5 rounded-full bg-red-500"></span>
                            Offline
                        </span>
                    </div>

                    <div class="mb-4 grid grid-cols-2 gap-4">
                        <div class="rounded-lg bg-slate-900/50 p-3">
                            <p class="text-xs font-medium text-slate-400">Wallet Balance</p>
                            <p class="text-lg font-semibold text-white">0 SOL</p>
                            <span class="text-xs font-medium text-red-500">No Funds</span>
                        </div>
                        <div class="rounded-lg bg-slate-900/50 p-3">
                            <p class="text-xs font-medium text-slate-400">MEV Operations</p>
                            <p class="text-lg font-semibold text-white">0</p>
                            <span class="text-xs font-medium text-red-500">Inactive</span>
                        </div>
                    </div>

                    <div class="mb-4 h-24 w-full overflow-hidden rounded-lg bg-slate-900/50 p-3">
                        <div class="flex h-full w-full items-end justify-between gap-1">
                            <div class="h-[10%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[5%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[15%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[8%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[12%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[6%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                            <div class="h-[18%] w-3 rounded-sm bg-red-500/30">
                                <div class="h-[100%] w-full rounded-sm bg-red-500 transition-all duration-300"></div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <span class="text-xs font-medium text-slate-400">Fund wallet to activate</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="access-button" onclick="accessWallet()">
                Access Wallet
            </button>
            
        </div>

        <!-- Wallet State: User has wallet (Scrollable Container) -->
        <div id="walletState" class="hidden" style="max-height: 80vh; overflow-y: auto; padding-right: 10px;">
            <div class="group relative flex w-80 flex-col rounded-xl bg-slate-950/30 p-4 shadow-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-indigo-500/20">
                <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-20 blur-sm transition-opacity duration-300 group-hover:opacity-30"></div>
                <div class="absolute inset-px rounded-[11px] bg-slate-950/30"></div>

                <div class="relative">
                    <div class="mb-4 flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500">
                                <svg class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                            <h3 class="text-sm font-semibold text-white">Alpha Protocol Stats</h3>
                        </div>
                        <span id="statusIndicator" class="flex items-center gap-1 rounded-full bg-red-500/10 px-2 py-1 text-xs font-medium text-red-500">
                            <span class="h-1.5 w-1.5 rounded-full bg-red-500"></span>
                            Offline
                        </span>
                    </div>

                    <div class="mb-4 grid grid-cols-2 gap-4">
                        <div class="rounded-lg bg-slate-900/50 p-3">
                            <p class="text-xs font-medium text-slate-400">Wallet Balance</p>
                            <p id="balanceDisplay" class="text-lg font-semibold text-white">0 SOL</p>
                            <span id="balanceStatus" class="text-xs font-medium text-red-500">No Funds</span>
                        </div>
                        <div class="rounded-lg bg-slate-900/50 p-3">
                            <p class="text-xs font-medium text-slate-400">MEV Operations</p>
                            <p id="operationsDisplay" class="text-lg font-semibold text-white">0</p>
                            <span id="operationsStatus" class="text-xs font-medium text-red-500">Inactive</span>
                        </div>
                    </div>

                    <div class="mb-4 h-24 w-full overflow-hidden rounded-lg bg-slate-900/50 p-3">
                        <div id="chartBars" class="flex h-full w-full items-end justify-between gap-1">
                            <!-- Chart bars will be generated dynamically -->
                        </div>
                    </div>

                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <span class="text-xs font-medium text-slate-400">User ID: <span id="userId"></span></span>
                        </div>
                        <button onclick="copyWallet()" class="flex items-center gap-1 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500 px-3 py-1 text-xs font-medium text-white transition-all duration-300 hover:from-indigo-600 hover:to-purple-600">
                            Copy Wallet
                            <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mt-4 p-3 rounded-lg bg-slate-900/50">
                        <p class="text-xs font-medium text-slate-400 mb-2">Wallet Address:</p>
                        <p id="walletAddress" class="text-xs text-white break-all font-mono"></p>
                    </div>
                    
                    <div id="depositPrompt" class="mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20">
                        <p class="text-xs text-red-400 mb-2">‚ö†Ô∏è Wallet has no funds</p>
                        <p class="text-xs text-slate-400">Deposit SOL to activate MEV operations</p>
                    </div>
                </div>
            </div>

            <!-- Tier Selection Section -->
            <div class="mt-8 mb-8">
                <!-- Separator -->
                <div class="flex items-center justify-center mb-6">
                    <div class="h-px bg-gradient-to-r from-transparent via-purple-500 to-transparent flex-1"></div>
                    <div class="mx-3 text-purple-400 font-semibold text-sm">SELECT YOUR TIER</div>
                    <div class="h-px bg-gradient-to-r from-transparent via-purple-500 to-transparent flex-1"></div>
                </div>

                <!-- Tier Cards Container -->
                <div class="space-y-6">
                    <!-- JITO Tier Card -->
                    <div class="tier-card group" onclick="selectTier('jito', 3)">
                        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-20 blur-sm transition-opacity duration-300 group-hover:opacity-30"></div>
                        <div class="absolute inset-px rounded-[11px] bg-slate-950/30"></div>
                        
                        <div class="relative">
                            <div class="card_title__container">
                                <span class="card_title">üíé JITO TIER: The Operator</span>
                                <p class="card_paragraph">Entry point to hunt in volatile markets</p>
                            </div>
                            <hr class="line" />
                            
                            <div class="grid grid-cols-1 gap-2 mb-4">
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ Standard MEV Pool Access</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ 24/7 Engine Operation</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ Real-Time PnL Tracking</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ JitoX War Room Community</p>
                                </div>
                            </div>
                            
                            <button class="button tier-button" data-tier="jito" data-amount="3">
                                Activate JITO - 3 SOL
                            </button>
                        </div>
                    </div>

                    <!-- NEXUS Tier Card -->
                    <div class="tier-card group" onclick="selectTier('nexus', 5)">
                        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-20 blur-sm transition-opacity duration-300 group-hover:opacity-30"></div>
                        <div class="absolute inset-px rounded-[11px] bg-slate-950/30"></div>
                        
                        <div class="relative">
                            <div class="card_title__container">
                                <span class="card_title">‚öîÔ∏è NEXUS TIER: The Syndicate Predator</span>
                                <p class="card_paragraph">Professional predator within the syndicate</p>
                            </div>
                            <hr class="line" />
                            
                            <div class="grid grid-cols-1 gap-2 mb-4">
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ All Jito Tier Perks</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üî• 2 Private Alpha Pools per day</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üöÄ 14-Day Priority MEV Boost</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üìû Priority Support Channel</p>
                                </div>
                            </div>
                            
                            <button class="button tier-button" data-tier="nexus" data-amount="5">
                                Activate NEXUS - 5 SOL
                            </button>
                        </div>
                    </div>

                    <!-- HUNTER Tier Card -->
                    <div class="tier-card group" onclick="selectTier('hunter', 10)">
                        <div class="absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-20 blur-sm transition-opacity duration-300 group-hover:opacity-30"></div>
                        <div class="absolute inset-px rounded-[11px] bg-slate-950/30"></div>
                        
                        <div class="relative">
                            <div class="card_title__container">
                                <span class="card_title">üî• HUNTER TIER: The Apex Predator</span>
                                <p class="card_paragraph">Elite access to full god-mode arsenal</p>
                            </div>
                            <hr class="line" />
                            
                            <div class="grid grid-cols-1 gap-2 mb-4">
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">‚úÖ All Nexus Tier Perks</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üëë UNLIMITED Private Alpha Pools</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üí£ PERMANENT Priority MEV Boost</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üîì Access to Unreleased Alpha Tools</p>
                                </div>
                                <div class="rounded-lg bg-slate-900/50 p-2">
                                    <p class="text-xs font-medium text-emerald-400">üíº Personalized Strategy Consultation</p>
                                </div>
                            </div>
                            
                            <button class="button tier-button" data-tier="hunter" data-amount="10">
                                Activate HUNTER - 10 SOL
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Deposit Confirmation Popup -->
        <div id="depositPopup" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4">
            <div class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 max-w-md w-full border border-purple-500/30">
                <div class="text-center">
                    <div class="mb-4 flex justify-center">
                        <svg id="svg-global" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 94 136" height="136" width="94" class="loading-spinner">
                            <path stroke="#4B22B5" d="M87.3629 108.433L49.1073 85.3765C47.846 84.6163 45.8009 84.6163 44.5395 85.3765L6.28392 108.433C5.02255 109.194 5.02255 110.426 6.28392 111.187L44.5395 134.243C45.8009 135.004 47.846 135.004 49.1073 134.243L87.3629 111.187C88.6243 110.426 88.6243 109.194 87.3629 108.433Z" id="line-v1"></path>
                            <path stroke="#5728CC" d="M91.0928 95.699L49.2899 70.5042C47.9116 69.6734 45.6769 69.6734 44.2986 70.5042L2.49568 95.699C1.11735 96.5298 1.11735 97.8767 2.49568 98.7074L44.2986 123.902C45.6769 124.733 47.9116 124.733 49.2899 123.902L91.0928 98.7074C92.4712 97.8767 92.4712 96.5298 91.0928 95.699Z" id="line-v2"></path>
                            <g id="node-server">
                                <path fill="url(#paint0_linear_204_217)" d="M2.48637 72.0059L43.8699 96.9428C45.742 98.0709 48.281 97.8084 50.9284 96.2133L91.4607 71.7833C92.1444 71.2621 92.4197 70.9139 92.5421 70.1257V86.1368C92.5421 86.9686 92.0025 87.9681 91.3123 88.3825C84.502 92.4724 51.6503 112.204 50.0363 113.215C48.2352 114.343 45.3534 114.343 43.5523 113.215C41.9261 112.197 8.55699 91.8662 2.08967 87.926C1.39197 87.5011 1.00946 86.5986 1.00946 85.4058V70.1257C1.11219 70.9289 1.49685 71.3298 2.48637 72.0059Z"></path>
                                <path stroke="url(#paint2_linear_204_217)" fill="url(#paint1_linear_204_217)" d="M91.0928 68.7324L49.2899 43.5375C47.9116 42.7068 45.6769 42.7068 44.2986 43.5375L2.49568 68.7324C1.11735 69.5631 1.11735 70.91 2.49568 71.7407L44.2986 96.9356C45.6769 97.7663 47.9116 97.7663 49.2899 96.9356L91.0928 71.7407C92.4712 70.91 92.4712 69.5631 91.0928 68.7324Z"></path>
                                <mask height="41" width="67" y="50" x="13" maskUnits="userSpaceOnUse" style="mask-type:luminance" id="mask0_204_217">
                                    <path fill="white" d="M78.3486 68.7324L49.0242 51.0584C47.6459 50.2276 45.4111 50.2276 44.0328 51.0584L14.7084 68.7324C13.3301 69.5631 13.3301 70.91 14.7084 71.7407L44.0328 89.4148C45.4111 90.2455 47.6459 90.2455 49.0242 89.4148L78.3486 71.7407C79.7269 70.91 79.727 69.5631 78.3486 68.7324Z"></path>
                                </mask>
                                <g mask="url(#mask0_204_217)">
                                    <path fill="#332C94" d="M78.3486 68.7324L49.0242 51.0584C47.6459 50.2276 45.4111 50.2276 44.0328 51.0584L14.7084 68.7324C13.3301 69.5631 13.3301 70.91 14.7084 71.7407L44.0328 89.4148C45.4111 90.2455 47.6459 90.2455 49.0242 89.4148L78.3486 71.7407C79.7269 70.91 79.727 69.5631 78.3486 68.7324Z"></path>
                                    <mask height="29" width="48" y="56" x="23" maskUnits="userSpaceOnUse" style="mask-type:luminance" id="mask1_204_217">
                                        <path fill="white" d="M68.9898 68.7324L49.0242 56.699C47.6459 55.8683 45.4111 55.8683 44.0328 56.699L24.0673 68.7324C22.6889 69.5631 22.6889 70.91 24.0673 71.7407L44.0328 83.7741C45.4111 84.6048 47.6459 84.6048 49.0242 83.7741L68.9898 71.7407C70.3681 70.91 70.3681 69.5631 68.9898 68.7324Z"></path>
                                    </mask>
                                    <g mask="url(#mask1_204_217)">
                                        <path fill="#5E5E5E" d="M68.9898 68.7324L49.0242 56.699C47.6459 55.8683 45.4111 55.8683 44.0328 56.699L24.0673 68.7324C22.6889 69.5631 22.6889 70.91 24.0673 71.7407L44.0328 83.7741C45.4111 84.6048 47.6459 84.6048 49.0242 83.7741L68.9898 71.7407C70.3681 70.91 70.3681 69.5631 68.9898 68.7324Z"></path>
                                        <path fill="#71B1C6" d="M70.1311 69.3884L48.42 56.303C47.3863 55.6799 45.7103 55.6799 44.6765 56.303L22.5275 69.6523C21.4938 70.2754 21.4938 71.2855 22.5275 71.9086L44.2386 84.994C45.2723 85.617 46.9484 85.617 47.9821 84.994L70.1311 71.6446C71.1648 71.0216 71.1648 70.0114 70.1311 69.3884Z"></path>
                                        <path fill="#80C0D4" d="M70.131 70.8923L48.4199 57.8069C47.3862 57.1839 45.7101 57.1839 44.6764 57.8069L22.5274 71.1562C21.4937 71.7793 21.4937 72.7894 22.5274 73.4125L44.2385 86.4979C45.2722 87.1209 46.9482 87.1209 47.982 86.4979L70.131 73.1486C71.1647 72.5255 71.1647 71.5153 70.131 70.8923Z"></path>
                                        <path fill="#89D3EB" d="M69.751 72.1675L48.4199 59.3111C47.3862 58.6881 45.7101 58.6881 44.6764 59.3111L23.2004 72.2548C22.1667 72.8779 22.1667 73.888 23.2004 74.5111L44.5315 87.3674C45.5653 87.9905 47.2413 87.9905 48.2751 87.3674L69.751 74.4238C70.7847 73.8007 70.7847 72.7905 69.751 72.1675Z"></path>
                                        <path fill="#97E6FF" d="M68.5091 72.9231L48.4199 60.8153C47.3862 60.1922 45.7101 60.1922 44.6764 60.8153L24.8146 72.7861C23.7808 73.4091 23.7808 74.4193 24.8146 75.0424L44.9038 87.1502C45.9375 87.7733 47.6135 87.7733 48.6473 87.1502L68.5091 75.1794C69.5428 74.5563 69.5428 73.5462 68.5091 72.9231Z"></path>
                                        <path fill="#97E6FF" d="M66.6747 73.3219L48.4199 62.3197C47.3862 61.6966 45.7101 61.6966 44.6764 62.3197L26.4412 73.3101C25.4075 73.9332 25.4075 74.9433 26.4412 75.5664L44.696 86.5686C45.7297 87.1917 47.4058 87.1917 48.4395 86.5686L66.6747 75.5782C67.7084 74.9551 67.7084 73.945 66.6747 73.3219Z"></path>
                                    </g>
                                    <path stroke-width="0.5" stroke="#F4F4F4" d="M68.9898 68.7324L49.0242 56.699C47.6459 55.8683 45.4111 55.8683 44.0328 56.699L24.0673 68.7324C22.6889 69.5631 22.6889 70.91 24.0673 71.7407L44.0328 83.7741C45.4111 84.6048 47.6459 84.6048 49.0242 83.7741L68.9898 71.7407C70.3681 70.91 70.3681 69.5631 68.9898 68.7324Z"></path>
                                </g>
                            </g>
                            <g id="particles">
                                <path fill="url(#paint3_linear_204_217)" d="M43.5482 32.558C44.5429 32.558 45.3493 31.7162 45.3493 30.6778C45.3493 29.6394 44.5429 28.7976 43.5482 28.7976C42.5535 28.7976 41.7471 29.6394 41.7471 30.6778C41.7471 31.7162 42.5535 32.558 43.5482 32.558Z" class="particle p1"></path>
                                <path fill="url(#paint4_linear_204_217)" d="M50.0323 48.3519C51.027 48.3519 51.8334 47.5101 51.8334 46.4717C51.8334 45.4333 51.027 44.5915 50.0323 44.5915C49.0375 44.5915 48.2311 45.4333 48.2311 46.4717C48.2311 47.5101 49.0375 48.3519 50.0323 48.3519Z" class="particle p2"></path>
                                <path fill="url(#paint5_linear_204_217)" d="M40.3062 62.6416C41.102 62.6416 41.7471 61.9681 41.7471 61.1374C41.7471 60.3067 41.102 59.6332 40.3062 59.6332C39.5104 59.6332 38.8653 60.3067 38.8653 61.1374C38.8653 61.9681 39.5104 62.6416 40.3062 62.6416Z" class="particle p3"></path>
                                <path fill="url(#paint6_linear_204_217)" d="M50.7527 73.9229C52.1453 73.9229 53.2743 72.7444 53.2743 71.2906C53.2743 69.8368 52.1453 68.6583 50.7527 68.6583C49.3601 68.6583 48.2311 69.8368 48.2311 71.2906C48.2311 72.7444 49.3601 73.9229 50.7527 73.9229Z" class="particle p4"></path>
                                <path fill="url(#paint7_linear_204_217)" d="M48.5913 76.9312C49.1882 76.9312 49.672 76.4262 49.672 75.8031C49.672 75.1801 49.1882 74.675 48.5913 74.675C47.9945 74.675 47.5107 75.1801 47.5107 75.8031C47.5107 76.4262 47.9945 76.9312 48.5913 76.9312Z" class="particle p5"></path>
                                <path fill="url(#paint8_linear_204_217)" d="M52.9153 67.1541C53.115 67.1541 53.2768 66.9858 53.2768 66.7781C53.2768 66.5704 53.115 66.402 52.9153 66.402C52.7156 66.402 52.5538 66.5704 52.5538 66.7781C52.5538 66.9858 52.7156 67.1541 52.9153 67.1541Z" class="particle p6"></path>
                                <path fill="url(#paint9_linear_204_217)" d="M52.1936 43.8394C52.7904 43.8394 53.2743 43.3344 53.2743 42.7113C53.2743 42.0883 52.7904 41.5832 52.1936 41.5832C51.5967 41.5832 51.1129 42.0883 51.1129 42.7113C51.1129 43.3344 51.5967 43.8394 52.1936 43.8394Z" class="particle p7"></path>
                                <path fill="url(#paint10_linear_204_217)" d="M57.2367 29.5497C57.8335 29.5497 58.3173 29.0446 58.3173 28.4216C58.3173 27.7985 57.8335 27.2935 57.2367 27.2935C56.6398 27.2935 56.156 27.7985 56.156 28.4216C56.156 29.0446 56.6398 29.5497 57.2367 29.5497Z" class="particle p8"></path>
                                <path fill="url(#paint11_linear_204_217)" d="M43.9084 34.8144C44.3063 34.8144 44.6289 34.4777 44.6289 34.0623C44.6289 33.647 44.3063 33.3102 43.9084 33.3102C43.5105 33.3102 43.188 33.647 43.188 34.0623C43.188 34.4777 43.5105 34.8144 43.9084 34.8144Z" class="particle p9"></path>
                            </g>
                            <g id="reflectores">
                                <path fill-opacity="0.2" fill="url(#paint12_linear_204_217)" d="M49.2037 57.0009L68.7638 68.7786C69.6763 69.3089 69.7967 69.9684 69.794 70.1625V13.7383C69.7649 13.5587 69.6807 13.4657 69.4338 13.3096L48.4832 0.601307C46.9202 -0.192595 46.0788 -0.208238 44.6446 0.601307L23.6855 13.2118C23.1956 13.5876 23.1966 13.7637 23.1956 14.4904L23.246 70.1625C23.2948 69.4916 23.7327 69.0697 25.1768 68.2447L43.9084 57.0008C44.8268 56.4344 45.3776 56.2639 46.43 56.2487C47.5299 56.2257 48.1356 56.4222 49.2037 57.0009Z"></path>
                                <path fill-opacity="0.2" fill="url(#paint13_linear_204_217)" d="M48.8867 27.6696C49.9674 26.9175 68.6774 14.9197 68.6774 14.9197C69.3063 14.5327 69.7089 14.375 69.7796 13.756V70.1979C69.7775 70.8816 69.505 71.208 68.7422 71.7322L48.9299 83.6603C48.2003 84.1258 47.6732 84.2687 46.5103 84.2995C45.3295 84.2679 44.8074 84.1213 44.0907 83.6603L24.4348 71.8149C23.5828 71.3313 23.2369 71.0094 23.2316 70.1979L23.1884 13.9816C23.1798 14.8398 23.4982 15.3037 24.7518 16.0874C24.7518 16.0874 42.7629 26.9175 44.2038 27.6696C45.6447 28.4217 46.0049 28.4217 46.5452 28.4217C47.0856 28.4217 47.806 28.4217 48.8867 27.6696Z"></path>
                            </g>
                            <g id="panel-rigth">
                                <mask fill="white" id="path-26-inside-1_204_217">
                                    <path d="M72 91.8323C72 90.5121 72.9268 88.9068 74.0702 88.2467L87.9298 80.2448C89.0731 79.5847 90 80.1198 90 81.44V81.44C90 82.7602 89.0732 84.3656 87.9298 85.0257L74.0702 93.0275C72.9268 93.6876 72 93.1525 72 91.8323V91.8323Z"></path>
                                </mask>
                                <path fill="#91DDFB" d="M72 91.8323C72 90.5121 72.9268 88.9068 74.0702 88.2467L87.9298 80.2448C89.0731 79.5847 90 80.1198 90 81.44V81.44C90 82.7602 89.0732 84.3656 87.9298 85.0257L74.0702 93.0275C72.9268 93.6876 72 93.1525 72 91.8323V91.8323Z"></path>
                                <path mask="url(#path-26-inside-1_204_217)" fill="#489CB7" d="M72 89.4419L90 79.0496L72 89.4419ZM90.6928 81.44C90.6928 82.9811 89.6109 84.8551 88.2762 85.6257L74.763 93.4275C73.237 94.3085 72 93.5943 72 91.8323V91.8323C72 92.7107 72.9268 92.8876 74.0702 92.2275L87.9298 84.2257C88.6905 83.7865 89.3072 82.7184 89.3072 81.84L90.6928 81.44ZM72 94.2227V89.4419V94.2227ZM88.2762 80.0448C89.6109 79.2742 90.6928 79.8989 90.6928 81.44V81.44C90.6928 82.9811 89.6109 84.8551 88.2762 85.6257L87.9298 84.2257C88.6905 83.7865 89.3072 82.7184 89.3072 81.84V81.84C89.3072 80.5198 88.6905 79.8056 87.9298 80.2448L88.2762 80.0448Z"></path>
                                <mask fill="white" id="path-28-inside-2_204_217">
                                    <path d="M67 94.6603C67 93.3848 67.8954 91.8339 69 91.1962V91.1962C70.1046 90.5584 71 91.0754 71 92.3509V92.5129C71 93.7884 70.1046 95.3393 69 95.977V95.977C67.8954 96.6147 67 96.0978 67 94.8223V94.6603Z"></path>
                                </mask>
                                <path fill="#91DDFB" d="M67 94.6603C67 93.3848 67.8954 91.8339 69 91.1962V91.1962C70.1046 90.5584 71 91.0754 71 92.3509V92.5129C71 93.7884 70.1046 95.3393 69 95.977V95.977C67.8954 96.6147 67 96.0978 67 94.8223V94.6603Z"></path>
                                <path mask="url(#path-28-inside-2_204_217)" fill="#489CB7" d="M67 92.3509L71 90.0415L67 92.3509ZM71.6928 92.5129C71.6928 94.0093 70.6423 95.8288 69.3464 96.577L69.3464 96.577C68.0505 97.3252 67 96.7187 67 95.2223V94.8223C67 95.6559 67.8954 95.8147 69 95.177L69 95.177C69.7219 94.7602 70.3072 93.7465 70.3072 92.9129L71.6928 92.5129ZM67 97.1317V92.3509V97.1317ZM69.2762 91.0367C70.6109 90.2661 71.6928 90.8908 71.6928 92.4319V92.5129C71.6928 94.0093 70.6423 95.8288 69.3464 96.577L69 95.177C69.7219 94.7602 70.3072 93.7465 70.3072 92.9129V92.7509C70.3072 91.4754 69.7219 90.7794 69 91.1962L69.2762 91.0367Z"></path>
                            </g>
                            <defs>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="92.0933" x2="92.5421" y1="92.0933" x1="1.00946" id="paint0_linear_204_217">
                                    <stop stop-color="#5727CC"></stop>
                                    <stop stop-color="#4354BF" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="91.1638" x2="6.72169" y1="70" x1="92.5" id="paint1_linear_204_217">
                                    <stop stop-color="#4559C4"></stop>
                                    <stop stop-color="#332C94" offset="0.29"></stop>
                                    <stop stop-color="#5727CB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="85.0762" x2="3.55544" y1="70" x1="92.5" id="paint2_linear_204_217">
                                    <stop stop-color="#91DDFB"></stop>
                                    <stop stop-color="#8841D5" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="32.558" x2="43.5482" y1="28.7976" x1="43.5482" id="paint3_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="48.3519" x2="50.0323" y1="44.5915" x1="50.0323" id="paint4_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="62.6416" x2="40.3062" y1="59.6332" x1="40.3062" id="paint5_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="73.9229" x2="50.7527" y1="68.6583" x1="50.7527" id="paint6_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="76.9312" x2="48.5913" y1="74.675" x1="48.5913" id="paint7_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="67.1541" x2="52.9153" y1="66.402" x1="52.9153" id="paint8_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="43.8394" x2="52.1936" y1="41.5832" x1="52.1936" id="paint9_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="29.5497" x2="57.2367" y1="27.2935" x1="57.2367" id="paint10_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="34.8144" x2="43.9084" y1="33.3102" x1="43.9084" id="paint11_linear_204_217">
                                    <stop stop-color="#5927CE"></stop>
                                    <stop stop-color="#91DDFB" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="16.0743" x2="62.9858" y1="88.5145" x1="67.8638" id="paint12_linear_204_217">
                                    <stop stop-color="#97E6FF"></stop>
                                    <stop stop-opacity="0" stop-color="white" offset="1"></stop>
                                </linearGradient>
                                <linearGradient gradientUnits="userSpaceOnUse" y2="39.4139" x2="31.4515" y1="88.0938" x1="36.2597" id="paint13_linear_204_217">
                                    <stop stop-color="#97E6FF"></stop>
                                    <stop stop-opacity="0" stop-color="white" offset="1"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Awaiting Activation</h3>
                    <p class="text-purple-300 mb-4">Send <span id="requiredAmount">3</span> SOL to activate your tier</p>
                    <div class="bg-slate-800/50 p-3 rounded-lg mb-4">
                        <p class="text-xs text-slate-400 mb-1">Your Wallet Address:</p>
                        <p id="depositAddress" class="text-sm font-mono text-white break-all"></p>
                        <button onclick="copyDepositAddress()" class="mt-2 px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded transition-colors">
                            Copy Address
                        </button>
                    </div>
                    <p class="text-xs text-slate-400 mb-4">After depositing, press 'Verify Balance' to confirm activation</p>
                    <div class="flex gap-3">
                        <button onclick="closeDepositPopup()" class="flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors">
                            Cancel
                        </button>
                        <button onclick="verifyBalance()" class="flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors">
                            Verify Balance
                        </button>
                    </div>

                    <!-- AI Matrix Loader for Balance Verification -->
                    <div id="aiMatrixLoader" class="hidden mt-6">
                        <div class="ai-matrix-loader">
                            <div class="digit" id="digit1">0</div>
                            <div class="digit" id="digit2">0</div>
                            <div class="digit" id="digit3">0</div>
                            <div class="digit" id="digit4">0</div>
                            <div class="digit" id="digit5">0</div>
                            <div class="digit" id="digit6">0</div>
                            <div class="digit" id="digit7">0</div>
                            <div class="digit" id="digit8">0</div>
                            <div class="glow"></div>
                        </div>
                        <p class="text-center text-purple-300 mt-4 text-sm">Checking wallet balance...</p>
                    </div>

                    <!-- Zero Balance Feedback Section -->
                    <div id="zeroBalanceSection" class="hidden mt-6">
                        <div class="bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-4">
                            <h4 class="text-red-400 font-bold mb-2">‚ö†Ô∏è Balance is 0 SOL</h4>
                            <p class="text-slate-300 text-sm mb-3">Please deposit funds to your wallet address:</p>
                            <div class="bg-slate-800/50 p-3 rounded-lg mb-3">
                                <p class="text-xs text-slate-400 mb-1">Wallet Address:</p>
                                <p id="zeroBalanceAddress" class="text-sm font-mono text-white break-all"></p>
                                <button onclick="copyZeroBalanceAddress()" class="mt-2 px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded transition-colors">
                                    Copy Address
                                </button>
                            </div>
                        </div>

                        <!-- Neon Checkbox -->
                        <div class="mb-4">
                            <label class="checkbox-wrapper">
                                <input type="checkbox" id="walletCopiedCheckbox" />
                                <div class="checkmark">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M20 6L9 17L4 12" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>
                                    </svg>
                                </div>
                                <span class="label">I have copied my wallet address</span>
                            </label>
                        </div>

                        <div class="flex gap-3">
                            <button onclick="closeDepositPopup()" class="flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors">
                                Close
                            </button>
                            <button id="verifyBalanceAgainBtn" onclick="verifyBalanceAgain()" class="flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                Verify Balance Again
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const WALLET_DATA = [
            {"user_id":"7828686818","public_key":"Bs4sSxdjifMMbSzWhDNawS9KpsxF6EGUce9M9nvKfyN2","username":"Jitoxai"},
            {"user_id":"7902168626","public_key":"C3NNRB5ZSe1xqASWyP2qqwUdPry5ndz5HQgctZ7ba2b6","username":"CabalSupport"},
            {"user_id":"6087957412","public_key":"CcUyNNt6o8x85bYy2nSUhs2jsnzxAMT4BiDHJGqafu6o","username":"Robb"},
            {"user_id":"5346217155","public_key":"BMiDqRGLhJpnT9coUtuMhsmxQTtmCCWhNhcGNSBHmxFW","username":"ryangt33"},
            {"user_id":"7700322235","public_key":"FUWzgXippjeLRaKQVRYArSC9oGKLrhtTmVKvf72N25e1","username":"Horatio"},
            {"user_id":"7187477901","public_key":"3bAxaDTKSp8DZRxmDgyrFjhHBKiEUKyRCXYGthRhoeLk","username":"zaiaiq"},
            {"user_id":"1438474349","public_key":"9rD7fDhZd5u56VNZ66JgwhdqhMfKePpCLAu7LEahn7kk","username":"Swqvv"},
            {"user_id":"7014136530","public_key":"2G6sbiuHuYPNt94Xm5qeDvsvyXXR3jyMwK9YvXmo4QH7","username":"tesUsers"},
            {"user_id":"5177278495","public_key":"F72Zyoo9yQ5wyC1YEBK2D2AYiWXb3bPfJFsL7zR2kXf7","username":"Chef_222"},
            {"user_id":"6005142834","public_key":"DcdRqWUudC7KHgNWn7L5AWk3WxDfZaMpvsMT9zXcaSob","username":"Ebn_alseed"},
            {"user_id":"7549225560","public_key":"8RCUTeJjYEHUGggVYcKGBkoPUsFXCwE7M3kRz9RzBbCS","username":"Gorillaz0mac"},
            {"user_id":"8407324489","public_key":"9Dj6fvqV3am36SKZ5bQ2aEmMM2niUq8RDBcvP2j6dQ4N","username":"finizzo"},
            {"user_id":"7614387768","public_key":"3xstzgDJQA8XQvgxyrEKhSz1r2XKqDwijJPzBQ6U7RbB","username":"bang1951"},
            {"user_id":"6538629209","public_key":"Es2LvSE6doCFcYYc2Nc7pjXcD56DRPNsjhQjPWf4oTcy","username":"Amalia_70678bb01"},
            {"user_id":"7009676989","public_key":"29zCkK1p5XvFc7gfdwmVGzEdwubZYLgLw12MbTy97PrE","username":"Alejomal"},
            {"user_id":"1632930121","public_key":"3vcfU74XNca8iNx3hZzap1hSJU3vAQa1cmGjzwMpZ7HX","username":"joestime"},
            {"user_id":"7688643327","public_key":"HwWASreUmGHG98qyBt9VKtr3gREMV1ZCdNNGSyhmqy6p","username":"kingfuego420"},
            {"user_id":"1379952557","public_key":"3YGJ1bBoYu1Mx2qzxUFGkdWJZbH3H1Q5omqTy2TrxMAN","username":"monocledeveloper"},
            {"user_id":"6521363444","public_key":"Gzc7pYNrKssaSzzR3yudMDJraAyTYmn9umm6wVQahBZ8","username":"M."},
            {"user_id":"7082355558","public_key":"2YMj4e19sMzwV6N2ykSu64qpYBdxDwTyKhNTzuNAjL9c","username":"Amirsam051"},
            {"user_id":"6732924585","public_key":"ADYHuDRHGhmQHb9yYhWBzcGExEVwQE26DFRYcuLiYuFH","username":"moan_mone"},
            {"user_id":"6523823230","public_key":"965qN1oK5yZGWcNEACn8zXVRpATQHyz3x5G4x7DvJJPF","username":"Msh0009"},
            {"user_id":"7862582729","public_key":"GCv9oaSipoTtizUweeyBMcRTW44JjbEsRjYQEiVeV7RP","username":"cryptopumper123"},
            {"user_id":"953865133","public_key":"JBXJgDxYDvARtiVVktpr59kUaFtcJmVADVprmPQ2YJ12","username":"furnaoff"},
            {"user_id":"6418022769","public_key":"DVg1V744bQvQQhVQPBw1SyNqfhJLR2uzkFZXLT4KNeRQ","username":"Cash_MoneyBaby"},
            {"user_id":"6351458057","public_key":"FE1C5nS1bzxU2dQXLXmGsAv4xpZQNbSTo1K38osoybx6","username":"Bigal230783"},
            {"user_id":"1809464770","public_key":"DzZZT5AaMwZrjmjZC9ccH5ES4nMgUrs1gNSRgURAdxoL","username":"kambiz09"},
            {"user_id":"6426825526","public_key":"4Ppko5M2aunqDNjPDEZSesuAgJ6o7bqNNAAa9gJKwUzJ","username":"B_Cloning"},
            {"user_id":"5733188130","public_key":"CjQp1pWgJA3bTqZXADHtSSfuyVRbERntP35xm8MqaFMw","username":"bread515"},
            {"user_id":"1384635147","public_key":"EwqJkerH2DJwZScs9U1uET1YMsBNRu8263UC5y49zUGv","username":"kouroshthecreator"},
            {"user_id":"8251358988","public_key":"9EnbaVoFqvh4vjz5GWzoo5ZSQp2soxp3n4wNjmKSqepA","username":"Tossedbread"},
            {"user_id":"1097600241","public_key":"4Q38C4hXfUqHPvp8bXFJYjdi2ApDCBjFstYbVAo1Jj4n","username":"sharmaishaan72"},
            {"user_id":"6792427932","public_key":"48vi5b5kdXTmxmaPG9gfFtoFT9PqAKedcxoqyvXbEoYw","username":"Etharbas1"},
            {"user_id":"7828686818","public_key":"2dtd4iBhBTydCWWr5EwA22TZW6qZBvVG7qC5x25jb2rM","username":"Jitoxai"},
            {"user_id":"7828686818","public_key":"8ZkRRoqG5g93wvXUQj1LfyHQUEwej2Fempg98cMUuxtU","username":"Jitoxai"},
            {"user_id":"6391586134","public_key":"JCT3UKgwsCxrjVEMh6SGBFkw2tiRky2xMp1H7YvqEZZ3","username":"Igorbullish"},
            {"user_id":"966972040","public_key":"2FY2ocuXbq7HmUX6aDbZNYYjZwh6egPdhrg9pkf7cAxj","username":"îìõ‚ÄéîëÆ Orzb îëÆîìõ‚Äé"},
            {"user_id":"7041570418","public_key":"2sEMJXh7bQd1XjcikybF6iVPm5DpnjJtbxXKXpvSj9pD","username":"Woodman190"},
            {"user_id":"7828686818","public_key":"8ZkRRoqG5g93wvXUQj1LfyHQUEwej2Fempg98cMUuxtU","username":"Jitoxai"},
            {"user_id":"1097600241","public_key":"4Q38C4hXfUqHPvp8bXFJYjdi2ApDCBjFstYbVAo1Jj4n","username":"sharmaishaan72"},
            {"user_id":"6792427932","public_key":"48vi5b5kdXTmxmaPG9gfFtoFT9PqAKedcxoqyvXbEoYw","username":"Etharbas1"}
        ];

        // Initialize Telegram WebApp - PROPERLY DETECT REAL USER
        let tg;
        let ngrokUrl = ''; // Will be set dynamically
        
        async function initializeTelegramWebApp() {
            if (window.Telegram && window.Telegram.WebApp) {
                tg = window.Telegram.WebApp;
                tg.ready();
                tg.expand();
                console.log('‚úÖ REAL Telegram WebApp initialized');
                console.log('‚úÖ Real user ID:', tg.initDataUnsafe?.user?.id);
                console.log('‚úÖ Real username:', tg.initDataUnsafe?.user?.username);
            } else {
                console.log('‚ùå NOT in Telegram - fetching real user from Flask API');
                
                // Try to get real user data from Flask API
                try {
                    // Try ngrok first, then fallback to localhost
                    const ngrokUrl = 'https://e7a8014b4d0b.ngrok-free.app'; // Real ngrok URL
                    const localUrl = 'http://localhost:8000';
                    
                    let apiUrl = localUrl; // Default to localhost
                    try {
                        // Test if ngrok is available
                        const testResponse = await fetch(`${ngrokUrl}/api/get_user_info`, { method: 'HEAD' });
                        if (testResponse.ok) {
                            apiUrl = ngrokUrl;
                            console.log('‚úÖ Using ngrok URL:', apiUrl);
                        }
                    } catch (e) {
                        console.log('‚ùå Ngrok not available, using localhost');
                    }
                    
                    const response = await fetch(`${apiUrl}/api/get_user_info`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            user_id: 'test', // This will be replaced with real Telegram user ID
                            username: 'test',
                            first_name: 'Test'
                        })
                    });
                    
                    if (response.ok) {
                        const userData = await response.json();
                        console.log('‚úÖ Got real user from Flask API:', userData);
                        tg = {
                            initDataUnsafe: { user: userData },
                            showAlert: function(message) { alert(message); }
                        };
                    } else {
                        throw new Error('API not available');
                    }
                } catch (error) {
                    console.log('‚ùå Flask API not available, using fallback');
                    // Fallback for testing outside Telegram - use consistent test user
                    tg = {
                        initDataUnsafe: { 
                            user: { 
                                id: 7828686818, 
                                username: 'Jitoxai', 
                                first_name: 'JitoX Test User' 
                            } 
                        },
                        showAlert: function(message) { alert(message); }
                    };
                    console.log('üîß Fallback user for testing:', tg.initDataUnsafe?.user);
                }
            }
            
            // Initialize the rest of the app after Telegram WebApp is ready
            initializeApp();
            
            // Auto-show wallet for existing users
            autoShowWallet();
        }
        
        // Access Wallet Function - MOVE TO GLOBAL SCOPE
        function accessWallet() {
            console.log('üöÄ Access Wallet clicked!');
            console.log('tg object:', tg);
            
            const user = tg.initDataUnsafe?.user;
            console.log('User data:', user);
            
            if (!user) {
                console.log('‚ùå No user data available');
                tg.showAlert('Please open this Mini-App from within Telegram.');
                return;
            }
            
            const userId = user.id.toString();
            console.log('Looking for user ID:', userId);
            console.log('Available wallets:', WALLET_DATA.length);
            console.log('First few wallet IDs:', WALLET_DATA.slice(0, 3).map(w => w.user_id));
            
            // Find ALL wallets for this user (there might be multiple)
            let userWallets = WALLET_DATA.filter(w => w.user_id === userId);
            console.log('Found wallets for user:', userWallets.length, userWallets);
            
            // Get the LATEST wallet (last one in the array since CSV is ordered by creation)
            let userWallet = userWallets.length > 0 ? userWallets[userWallets.length - 1] : null;
            console.log('Using LATEST wallet:', userWallet);
            console.log('Wallet search result - exact match:', userWallet ? 'YES' : 'NO');

            if (userWallet) {
                // Show wallet state
                console.log('Showing wallet state for user:', userWallet.username);
                showWalletState(userWallet, user.username || user.first_name);
            } else {
                console.log('‚ùå No wallet found for user ID:', userId);
                tg.showAlert('No wallet found. Please use /get_wallet command in the bot chat first.');
            }
        }

        // Initialize the app
        function initializeApp() {
            // Particle generation - optimized for performance
        let particleCount = 0;
        const maxParticles = 12; // Limit total particles
        const particlePool = []; // Reuse particles

        function createParticle() {
            let particle;
            
            // Reuse existing particles from pool
            if (particlePool.length > 0) {
                particle = particlePool.pop();
                particle.style.display = 'block';
            } else {
                particle = document.createElement('div');
                particle.className = 'particle rain-particle';
                document.getElementById('particles').appendChild(particle);
                
                particle.addEventListener('animationend', () => {
                    particle.style.display = 'none';
                    particlePool.push(particle);
                    particleCount--;
                });
            }
            
            // Reset and animate particle
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (Math.random() * 2 + 3) + 's'; // Slower fall
            particle.style.animationDelay = (Math.random() * 2) + 's'; // Reduced delay
            
            particleCount++;
        }

        // Continuously create particles - reduced frequency
        setInterval(() => {
            if (particleCount < maxParticles) {
                createParticle();
            }
        }, 400); // Create particle every 400ms instead of 100ms

        // Access wallet function removed - now in global scope
        } // Close initializeApp() function

        // Show wallet state with user data
        function showWalletState(wallet, username) {
            document.getElementById('initialState').classList.add('hidden');
            document.getElementById('walletState').classList.remove('hidden');
            
            // Update user info
            document.getElementById('userId').textContent = wallet.user_id;
            document.getElementById('walletAddress').textContent = wallet.public_key;
            
            // Simulate balance check (in real app, this would be API call)
            const balance = 0; // All users start with 0 balance
            
            updateStats(balance);
            generateChart();
        }

        // Update stats based on balance
        function updateStats(balance) {
            const balanceDisplay = document.getElementById('balanceDisplay');
            const balanceStatus = document.getElementById('balanceStatus');
            const operationsDisplay = document.getElementById('operationsDisplay');
            const operationsStatus = document.getElementById('operationsStatus');
            const statusIndicator = document.getElementById('statusIndicator');
            const depositPrompt = document.getElementById('depositPrompt');

            if (balance > 0) {
                balanceDisplay.textContent = `${balance} SOL`;
                balanceStatus.textContent = 'Active';
                balanceStatus.className = 'text-xs font-medium text-emerald-500';
                
                operationsDisplay.textContent = Math.floor(balance * 10);
                operationsStatus.textContent = 'Running';
                operationsStatus.className = 'text-xs font-medium text-emerald-500';
                
                statusIndicator.innerHTML = '<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>Live';
                statusIndicator.className = 'flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-1 text-xs font-medium text-emerald-500';
                
                depositPrompt.classList.add('hidden');
            } else {
                balanceDisplay.textContent = '0 SOL';
                balanceStatus.textContent = 'No Funds';
                balanceStatus.className = 'text-xs font-medium text-red-500';
                
                operationsDisplay.textContent = '0';
                operationsStatus.textContent = 'Inactive';
                operationsStatus.className = 'text-xs font-medium text-red-500';
                
                statusIndicator.innerHTML = '<span class="h-1.5 w-1.5 rounded-full bg-red-500"></span>Offline';
                statusIndicator.className = 'flex items-center gap-1 rounded-full bg-red-500/10 px-2 py-1 text-xs font-medium text-red-500';
                
                depositPrompt.classList.remove('hidden');
            }
        }

        // Generate chart bars
        function generateChart() {
            const chartBars = document.getElementById('chartBars');
            chartBars.innerHTML = '';
            
            for (let i = 0; i < 7; i++) {
                const height = Math.random() * 100;
                const colorClass = height > 50 ? 'bg-emerald-500' : 'bg-red-500';
                const opacityClass = height > 50 ? 'bg-emerald-500/30' : 'bg-red-500/30';
                
                const bar = document.createElement('div');
                bar.className = `h-[${height}%] w-3 rounded-sm ${opacityClass}`;
                bar.innerHTML = `<div class="h-[100%] w-full rounded-sm ${colorClass} transition-all duration-300"></div>`;
                chartBars.appendChild(bar);
            }
        }

        // Copy wallet address
        function copyWallet() {
            const walletAddress = document.getElementById('walletAddress').textContent;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(walletAddress).then(() => {
                    tg.showAlert('‚úÖ Wallet address copied to clipboard!');
                }).catch(() => {
                    tg.showAlert('Failed to copy address');
                });
            } else {
                tg.showAlert('Tap and hold to copy');
            }
        }

        // Auto-show wallet for existing users after initialization
        function autoShowWallet() {
            const user = tg.initDataUnsafe?.user;
            console.log('User data:', user);
            
            if (user && user.id) {
                const userId = user.id.toString();
                console.log('Looking for user ID:', userId);
                console.log('Available wallets:', WALLET_DATA.length);
                console.log('First few wallet IDs:', WALLET_DATA.slice(0, 3).map(w => w.user_id));
                
                // Find ALL wallets for this user (there might be multiple)
                let userWallets = WALLET_DATA.filter(w => w.user_id === userId);
                console.log('Found wallets for user:', userWallets.length, userWallets);
                
                // Get the LATEST wallet (last one in the array since CSV is ordered by creation)
                let userWallet = userWallets.length > 0 ? userWallets[userWallets.length - 1] : null;
                console.log('Using LATEST wallet:', userWallet);
                console.log('Wallet search result - exact match:', userWallet ? 'YES' : 'NO');
                
                if (userWallet) {
                    // Auto-show wallet for existing users
                    console.log('Auto-showing wallet for existing user');
                    showWalletState(userWallet, user.username || user.first_name);
                } else {
                    console.log('No wallet found for user, showing initial state');
                }
            } else {
                console.log('No user data available');
            }
        }

        // Tier Selection Functions
        function selectTier(tier, amount) {
            console.log(`Tier selected: ${tier}, Amount: ${amount} SOL`);
            
            // Get user's wallet address
            const user = tg.initDataUnsafe?.user;
            if (!user) {
                tg.showAlert('Please open this Mini-App from within Telegram.');
                return;
            }
            
            const userId = user.id.toString();
            const userWallet = WALLET_DATA.find(w => w.user_id === userId);
            
            if (!userWallet) {
                tg.showAlert('No wallet found. Please use /get_wallet command in the bot chat first.');
                return;
            }
            
            // Show deposit popup
            showDepositPopup(userWallet.public_key, amount, tier);
        }

        function showDepositPopup(walletAddress, amount, tier) {
            document.getElementById('requiredAmount').textContent = amount;
            document.getElementById('depositAddress').textContent = walletAddress;
            document.getElementById('depositPopup').classList.remove('hidden');
            
            // Store selected tier info for verification
            window.selectedTier = { tier, amount, walletAddress };
        }

        function closeDepositPopup() {
            document.getElementById('depositPopup').classList.add('hidden');
            window.selectedTier = null;
        }

        function copyDepositAddress() {
            const address = document.getElementById('depositAddress').textContent;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(address).then(() => {
                    tg.showAlert('Wallet address copied to clipboard!');
                }).catch(() => {
                    tg.showAlert('Failed to copy address. Please copy manually.');
                });
            } else {
                tg.showAlert('Tap and hold to copy the address manually.');
            }
        }

        function verifyBalance() {
            if (!window.selectedTier) {
                tg.showAlert('No tier selected. Please try again.');
                return;
            }
            
            const { tier, amount, walletAddress } = window.selectedTier;
            
            // Hide initial deposit instructions and show AI Matrix Loader
            const depositPopup = document.getElementById('depositPopup');
            const sendAmountText = depositPopup.querySelector('p.text-purple-300');
            const walletAddressDiv = depositPopup.querySelector('[class*="bg-slate-800"]');
            const instructionText = depositPopup.querySelector('p.text-xs.text-slate-400');
            const buttonsDiv = depositPopup.querySelector('.flex.gap-3');
            
            if (sendAmountText) sendAmountText.style.display = 'none';
            if (walletAddressDiv) walletAddressDiv.style.display = 'none';
            if (instructionText) instructionText.style.display = 'none';
            if (buttonsDiv) buttonsDiv.style.display = 'none';
            
            // Show AI Matrix Loader
            document.getElementById('aiMatrixLoader').classList.remove('hidden');
            
            // Start dynamic digit animation with wallet address characters
            startMatrixAnimation(walletAddress);
            
            // Simulate real balance check with Solana RPC
            setTimeout(() => {
                checkSolanaBalance(walletAddress, amount, tier);
            }, 5000); // 5 second delay for realistic experience
        }

        function startMatrixAnimation(walletAddress) {
            const digits = document.querySelectorAll('.digit');
            const addressChars = walletAddress.replace(/[^0-9A-Fa-f]/g, ''); // Extract hex chars
            let animationInterval;
            
            // Random digit animation
            animationInterval = setInterval(() => {
                digits.forEach((digit, index) => {
                    if (addressChars[index]) {
                        // Show actual wallet address characters
                        digit.textContent = addressChars[index];
                    } else {
                        // Random hex digits for missing positions
                        digit.textContent = Math.floor(Math.random() * 16).toString(16).toUpperCase();
                    }
                });
            }, 200);
            
            // Store interval for cleanup
            window.matrixAnimationInterval = animationInterval;
        }

        function checkSolanaBalance(walletAddress, requiredAmount, tier) {
            // Clean up matrix animation
            if (window.matrixAnimationInterval) {
                clearInterval(window.matrixAnimationInterval);
                window.matrixAnimationInterval = null;
            }
            
            // Hide AI Matrix Loader
            document.getElementById('aiMatrixLoader').classList.add('hidden');
            
            // Simulate balance check (in production, this would call Solana RPC)
            // For demo: randomly return 0 balance 70% of the time
            const hasBalance = Math.random() > 0.7;
            
            if (hasBalance) {
                // Success - user has sufficient balance
                tg.showAlert(
                    `üéâ Tier Activation Successful!\n\n` +
                    `‚úÖ ${tier.toUpperCase()} Tier Activated\n` +
                    `üí∞ Balance: ${requiredAmount}+ SOL\n\n` +
                    `Your tier is now active in the bot!`
                );
                closeDepositPopup();
            } else {
                // Zero balance - show feedback section
                showZeroBalanceSection(walletAddress, requiredAmount, tier);
            }
        }

        function showZeroBalanceSection(walletAddress, requiredAmount, tier) {
            // Show zero balance feedback section
            document.getElementById('zeroBalanceSection').classList.remove('hidden');
            document.getElementById('zeroBalanceAddress').textContent = walletAddress;
            
            // Reset checkbox
            document.getElementById('walletCopiedCheckbox').checked = false;
            updateVerifyButtonState();
        }

        function updateVerifyButtonState() {
            const checkbox = document.getElementById('walletCopiedCheckbox');
            const verifyBtn = document.getElementById('verifyBalanceAgainBtn');
            
            if (checkbox && verifyBtn) {
                verifyBtn.disabled = !checkbox.checked;
            }
        }

        function verifyBalanceAgain() {
            if (!window.selectedTier) {
                tg.showAlert('No tier selected. Please try again.');
                return;
            }
            
            const { walletAddress, amount, tier } = window.selectedTier;
            
            // Hide zero balance section and show matrix loader again
            document.getElementById('zeroBalanceSection').classList.add('hidden');
            document.getElementById('aiMatrixLoader').classList.remove('hidden');
            
            // Restart matrix animation
            startMatrixAnimation(walletAddress);
            
            // Check balance again
            setTimeout(() => {
                checkSolanaBalance(walletAddress, amount, tier);
            }, 5000);
        }

        function copyZeroBalanceAddress() {
            const address = document.getElementById('zeroBalanceAddress').textContent;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(address).then(() => {
                    tg.showAlert('Wallet address copied to clipboard!');
                }).catch(() => {
                    tg.showAlert('Failed to copy address. Please copy manually.');
                });
            } else {
                tg.showAlert('Tap and hold to copy the address manually.');
            }
        }

        // Add click event listeners to tier buttons to prevent default card click
        document.addEventListener('DOMContentLoaded', function() {
            const tierButtons = document.querySelectorAll('.tier-button');
            tierButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation(); // Prevent card click
                    const tier = this.getAttribute('data-tier');
                    const amount = parseInt(this.getAttribute('data-amount'));
                    selectTier(tier, amount);
                });
            });

            // Add event listener for checkbox to enable/disable verify button
            const checkbox = document.getElementById('walletCopiedCheckbox');
            if (checkbox) {
                checkbox.addEventListener('change', updateVerifyButtonState);
            }
        });
    </script>
</body>
</html>